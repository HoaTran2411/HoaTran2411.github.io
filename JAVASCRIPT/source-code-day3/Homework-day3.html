<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework-Day3</title>
</head>

<body>
    <script>

        // Bài 1. Viết function kiểm tra 1 giá trị có nằm trong mảng hay không
        // Ví dụ: checkElementExist([1, 2, 3, 4], 4) => true
        // Ví dụ: checkElementExist([1, 2, 3, 4], 5) => false

        let arrNo1 = [1, 3, 5, 7, 'flower']

        function checkNum(item, arr) {
            let result = arr.includes(item)
            console.log(result)
            return result
        }
        checkNum('flower', arrNo1)
        //cách 2
        // function checkElementExist(arr, ele) {
        //     if(arr.indexOf(ele) != -1) {
        //         return true
        //     }
        //     else {
        //         return false
        //     }

        // }
        // console.log(checkElementExist(arrNo1,0))
        //cách 3: dùng toán tử 3 ngôi
        function checkElementExist(arr, ele) {
            let isExist
            arr.indexOf(ele) != -1 ? isExist = true : isExist = false
            return isExist
        }
        console.log(checkElementExist(arrNo1, 0))




        // Bài 2. Viết function tìm ra số lớn thứ nhì trong mảng các số.
        // Ví dụ: max2Numbers([2, 1, 3, 4]) => 3

        let arrayNumber2 = [22, 3, 7, 9, 20, 7, 22, 22]
        // function find2ndMaxNum(arr) {
        //     let maxNum = arr[0]
        //     for (let i = 0; i < arr.length; i++) {
        //         if (arr[i] > maxNum) {
        //             maxNum = arr[i]
        //         }
        //     }
        //     let newArr = []
        //     for (let i = 0; i < arr.length; i++) {
        //         if (arr[i] < maxNum) {
        //             newArr.push(arr[i])
        //         }
        //     }
        //     let maxNumOfNewArr = newArr[0]
        //     for (let i = 0; i < newArr.length; i++) {
        //         if (newArr[i] > maxNumOfNewArr) {
        //             maxNumOfNewArr = newArr[i]
        //         }
        //     }
        //     console.log(maxNumOfNewArr)
        //     return maxNumOfNewArr
        // }
        // find2ndMaxNum(arrayNumber2)

        //cách 2  --> tạo function findMax để không  mất công lặp lại 2 bước tìm phần tử lớn nhất trong dãy
        function findMax(a) {
            let max=a[0];
            for (let i = 0; i < a.length; i++) {
                if (a[i] > max) {
                    max = a[i]
                }
            }
            return max
        }
        function max2Numbers(arr) {
            //bước 1: tìm số lớn nhất trong mảng ban đầu
            let maxNumber = findMax(arr);
            console.log(maxNumber)

            //bước 2: loại bỏ giá trị max
            let newArr=[]
            for (let i = 0; i < arr.length; i= i+1) {
                if (arr[i] != maxNumber) {
                    newArr.push(arr[i])
                }
            }
            //bước 3: tìm max trong newArr
            let max2Number = findMax(newArr);
            return max2Number
        }
        console.log(max2Numbers(arrayNumber2))





        // Bài 3. Viết function để lấy một phần tử ngẫu nhiên từ một mảng
        // Ví dụ: randomElement([3, 7, 9, 11]) => 3
        // Ví dụ: randomElement([3, 7, 9, 11]) => 9

        number3 = [3, 7, 9, 11]

        function findRandomNum(arr) {
            let ranDomNum = Math.random() * (arr.length)     //Math.random không bao gồm số 1
            let ranDomIndex = Math.floor(ranDomNum);
            console.log(arr[ranDomIndex])
            return (arr[ranDomIndex])
        }

        findRandomNum(number3)

        //cách giải trên lớp
        function randomElement(arr) {
            let index = Math.floor(Math.random()* arr.length)
            return arr[index]
        }
        console.log(randomElement(number3))


        // Bài 4. Cho 1 mảng các chuỗi.Viết function lọc ra các phần tử có độ dài lớn nhất.
        // Ví dụ: findMaxLengthElement["aba", "aa", "ad", "c", "vcd"] => ["aba", "vcd"]

        let arrayNumber4 = ["aba", "aa", "adc", "c", "vcd"]
        function checkMaxLength(arr) {
            //bước 1: tìm độ dài lớn nhất của phần tử trong dãy
            let maxLength = arr[0].length
            for (let i = 0; i < arr.length; i++) {
                if (maxLength < arr[i].length) {
                    maxLength = arr[i].length
                }
            }

            //bước 2: so sánh độ dài của các phần tử trong mảng vs maxLength và tạo ra mảng mới vs điều kiện độ dài phần tử nhỏ hơn maxLength
            let newArr = []
            for (let i = 0; i < arr.length; i++) {
                if (arr[i].length == maxLength) {
                    newArr.push(arr[i])
                }

            }
            return newArr

        }
        console.log(checkMaxLength(arrayNumber4))



        // Bài 5. Viết function để lấy một mảng bao gồm các phần tử xuất hiện trong cả hai mảng
        // Ví dụ: similarity([1, 2, 3], [1, 2, 4]) => [1, 2]  

        let arrayNum5a = [1, 2, 3]
        let arrayNum5b = [1, 2, 4]
        console.log(arrayNum5b.indexOf(arrayNum5a[1]));

        function similarity(arr1, arr2) {
            let newArr = []
            for (let i = 0; i < arr1.length; i++) {
                if (arr2.indexOf(arr1[i]) != -1) { //có thể sure dụng include 'if(arr2.includes(arr1[i])'--> không cần so sánh vs true, mặc định là true
                    newArr.push(arr1[i])
                }
            }
            console.log(newArr)
            return newArr
        }
        similarity(arrayNum5a, arrayNum5b)

        

        // Bài 6. Viết function remove những phần tử bị trùng nhau trong mảng
        // Ví dụ: removeDuplicates([1, 2, 5, 2, 6, 2, 5]) => [1, 2, 5, 6]
        arrayNum6 = [1, 2, 5, 2, 6, 2, 5]
        function removeDuplicates(arr) {
            let newArr = []
            for (let i = 0; i < arr.length; i++) {
                // if (newArr.indexOf(arr[i]) == -1) {
                    if (!newArr.includes(arr[i])) {   //phải dùng phủ định của hàm include thì mới trả về giá trị false
                    newArr.push(arr[i])
                }
            }
            console.log(newArr)
            return newArr
        }
        removeDuplicates(arrayNum6)

        //cách 2: dùng set - map, tự tra trên mạng
        function unique(arr) {
        return Array.from(new Set(arr)) //
        }
        console.log(unique(arrayNum6))


        //cách 3: 
        function remove3(arr) {
            let newArr = []
            for (let i = 0; i < arr.length; i++) {
                if (arr.indexOf(arr[i])==i) {
                    newArr.push(arr[i])
                }
            }
            return newArr
        }
        console.log(remove3(arrayNum6))


        // Bài 7. Viết function để tạo mã màu HEX ngẫu nhiên.
        // Ví dụ: randomHexCode() => #2ecc71
        // Ví dụ: randomHexCode() => #8e44ad


        function randomColor() {
            var hex = '';
            while (hex.length < 6) {
                hex = hex + (Math.random()).toString(16).substr(-6).substr(-1) //.tostring(16) để trả về kết quả dưới dạng thập lục phân
            }                                                                  //.substr() để trích xuất 1 chuỗi ký tự con bên trong chuỗi cha
            return '#' + hex;
        }
        console.log(randomColor())

        function getRandomColor() {
            var color = "#" + (Math.random() * 0xFFFFFF << 0).toString(16);
            return color;
        }
        console.log(getRandomColor())

        //hướng dẫn giải trên lớp
        function randomHexCode() {
            let letters = [0,1,2,3,4,5,6,7,8,9,'a','b','c','d','f','e'];
            let hexCode = '#';
            for(let i = 0; i < 6; i++) {  //chạy từng ký tự trong mã hex, phải chạy 6 lần, 6 ký tự tất cả, cộng thêm '#' ở đầu
                hexCode +=letters[Math.floor(Math.random() * letters.length)] //phép cộng ký tự
            }
            return hexCode

        }
        console.log(randomHexCode())




        // Bài 8. Viết function để tạo mã màu RGB ngẫu nhiên.
        // Ví dụ: randomRgbCode() => rgb(46, 204, 113)
        // Ví dụ: randomRgbCode() => rgb(142, 68, 173)

        function randomRgbCode() {
            let numberColor = Math.floor(Math.random() * 256)          //Math.random() không bao gồm số 1 
            let color = 'rgb(' + numberColor + ',' + numberColor + ',' + numberColor + ')'
            console.log(color)
            return color
        }

        randomRgbCode()
        
        //cách giải trên lớp
        function random8() {
            let r = Math.floor(Math.random()*256);
            let g = Math.floor(Math.random()*256);
            let b = Math.floor(Math.random()*256);
            return `rgb( ${r} , ${g}, ${b} )`
        }
        console.log(random8())





    </script>
</body>

</html>