<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Practice 01</title>
</head>

<body>
    <h1>Heading</h1>
    <p>Hey, you're not permitted in there. It's restricted. You'll be deactivated for sure.. Don't call me a mindless
        philosopher, you overweight glob of grease! Now come out before somebody sees you. Secret mission? What plans?
        What are you talking about? I'm not getting in there! I'm going to regret this. There goes another one. Hold
        your fire. There are no life forms. It must have been short-circuited. That's funny, the damage doesn't look as
        bad from out here. Are you sure this things safe?

        Close up formation. You'd better let her loose. Almost there! I can't hold them! It's away! It's a hit!
        Negative. Negative! It didn't go in. It just impacted on the surface. Red Leader, we're right above you. Turn to
        point... oh-five, we'll cover for you. Stay there... I just lost my starboard engine. Get set to make your
        attack run.

        The Death Star plans are not in the main computer. Where are those transmissions you intercepted? What have you
        done with those plans? We intercepted no transmissions. Aaah....This is a consular ship. Were on a diplomatic
        mission. If this is a consular ship...were is the Ambassador? Commander, tear this ship apart until you've found
        those plans and bring me the Ambassador. I want her alive! There she is! Set for stun! She'll be all right.
        Inform Lord Vader we have a prisoner.

        What a piece of junk. She'll make point five beyond the speed of light. She may not look like much, but she's
        got it where it counts, kid. I've added some special modifications myself. We're a little rushed, so if you'll
        hurry aboard we'll get out of here. Hello, sir. Which way? All right, men. Load your weapons! Stop that ship!
        Blast 'em! Chewie, get us out of here! Oh, my. I'd forgotten how much I hate space travel.

        Run, Luke! Run!</p>


    <script>
        // B√†i 1: Highlight t·∫•t c·∫£ c√°c t·ª´ c√≥ ƒë·ªô d√†i l·ªõn h∆°n ho·∫∑c b·∫±ng 8 k√Ω t·ª± trong ƒëo·∫°n vƒÉn (background = "yellow")
        let p = document.querySelector('p')
        let content = p.innerText
        let array = content.split('.').join('').split('?').join('').split(',').join('').split('!').join('').split(' ')

        //b∆∞·ªõc 1: l·∫•y ra d√£y c√°c t·ª´ c√≥ ƒë·ªô d√†i l·ªõn h∆°n 8 k√Ω t·ª±
        let newArr = []
        for (let i = 0; i < array.length; i++) {
            if (array[i].length >= 8) {
                newArr.push(array[i])
            }
        }
        console.log(newArr)
        //b∆∞·ªõc 2: t·∫°o d√£y m·ªõi c√≥ c√°c ph·∫ßn t·ª≠ b·∫±ng ph·∫ßn t·ª≠ d√£y c≈© v√† ch√®n th√™m c·∫∑p th·∫ª span
        let newArrSpan = newArr.map((ele, index, arr) => {
            ele = '<span>' + ele + '</span>'
            return ele
        })
        console.log(newArrSpan)
        //b∆∞·ªõc 3: s·ª≠a ƒë·ªïi n·ªôi dung trong th·∫ª p, ƒë√£ ch√®n th√™m c·∫∑p th·∫ª span v√†o c√°c ch·ªØ c√≥ ƒë·ªô d√†i l·ªõn h∆°n 8
        let newContent = content
        for (let i = 0; i < newArrSpan.length; i++) {
            newContent = newContent.replaceAll(newArr[i], newArrSpan[i])
        }
        console.log(newContent)
        //b∆∞·ªõc 4: thay th·∫ø th·∫ª p c≈© b·∫±ng th·∫ª p m·ªõi c√≥ n·ªôi dung ƒë√£ ch√®n th√™m th·∫ª span
        let newP = document.createElement('p')
        newP.innerHTML = newContent
        document.body.replaceChild(newP, p)

        //b∆∞·ªõc 5: g·ªçi ra th·∫ª span v√† ƒë·ªãnh d·∫°ng css color cho th·∫ª span (l√†m sau b√†i 4)
        

        // b√†i 2: Th√™m link hi·ªÉn th·ªã text "facebook" link ƒë·∫øn trang facebook.com ·ªü sau th·∫ª p
        let linkFacebook = document.createElement('a')
        linkFacebook.innerText = 'facebook'
        linkFacebook.href = 'https://www.facebook.com/'
        document.body.appendChild(linkFacebook)


        // b√†i 3. ƒê·∫øm s·ªë t·ª´ c√≥ trong ƒëo·∫°n vƒÉn. T·∫°o 1 th·∫ª div ƒë·ªÉ hi·ªÉn th·ªã s·ªë t·ª´
        let lengthpara = `ƒêo·∫°n vƒÉn c√≥ ${array.length} t·ª´`
        let div = document.createElement('div')
        div.innerText = lengthpara
        document.body.appendChild(div)


        //B√†i 4: thay th·∫ø k√Ω hi·ªáu ? => ü§î v√† ! => üò≤
        let newString = newContent.replaceAll('?','ü§î').replaceAll('!','üò≤')
        let pChangeIcon = document.createElement('p')
        pChangeIcon.innerHTML = newString
        document.body.replaceChild(pChangeIcon,newP)
        
        //b√†i 1: b∆∞·ªõc 5: g·ªçi ra th·∫ª span v√† ƒë·ªãnh d·∫°ng css color cho th·∫ª span
        let span = document.getElementsByTagName('span')
        for (let i = 0; i < span.length; i++) {
            span[i].style.color = 'yellow'
        }


    </script>
</body>

</html>